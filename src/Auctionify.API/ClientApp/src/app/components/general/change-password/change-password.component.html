<div class="profile">
    <div class="profile__title">
        <h1>My profile</h1>
    </div>
    <div class="profile__top-container">
        <img src="{{ userProfileData?.profilePictureUrl }}" alt="User-prodile-image" width="100">
        <div class="profile__container-left-info">
            <p>Welcome Back, {{ userProfileData?.firstName }}!</p>
            <div class="profile__rate-lots">
                <div class="profile__rate">
                    <!-- Div for rates -->
                </div>
                <div class="profile__lots-count" *ngIf="isUserSeller()">
                    Lots created {{ userProfileData?.createdLotsCount }} | Lots finished {{ userProfileData?.finishedLotsCount }}
                </div>
            </div>
        </div>
    </div>
    <div class="main-container">
        <div class="main">
            <div class="title">
                <h1>Change password</h1>
            </div>
            <form [formGroup]="changePasswordForm" class="change-password-form" action="">
                <div class="main__profile">
                    <mat-form-field color="primary" appearance="outline">
                        <mat-label>Old Password</mat-label>
                        <input formControlName="oldPassword" matInput>
                        <mat-error *ngIf="changePasswordForm.controls.oldPassword.hasError('required')">
                            First name is
                            <strong>required</strong>
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field color="primary" appearance="outline">
                        <mat-label>New Password</mat-label>
                        <input formControlName="newPassword" matInput>
                        <mat-error *ngIf="changePasswordForm.controls.newPassword.hasError('required')">
                            New password is
                            <strong>required</strong>
                        </mat-error>
                        <mat-error *ngIf="changePasswordForm.controls.newPassword.hasError('minlength')">
                            At least 8 characters
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field color="primary" appearance="outline">
                        <mat-label>Name</mat-label>
                        <input formControlName="confirmNewPassword" matInput>
                        <mat-error *ngIf="changePasswordForm.controls.confirmNewPassword.hasError('required')">
                            Confirmation of new password is
                            <strong>required</strong>
                        </mat-error>
                        <mat-error *ngIf="changePasswordForm.controls.confirmNewPassword.hasError('minlength')">
                            At least 8 characters
                        </mat-error>
                    </mat-form-field>
                </div>
            </form>
            <div class="main-btns">
                <button mat-flat-button disabled="{{ isLoading }}" color="primary" (click)="OnSubmit()"
                type="submit">
                <mat-spinner *ngIf="isLoading" diameter="25"></mat-spinner>
                <div class="main-btn" *ngIf="!isLoading">
                    <mat-icon>save</mat-icon> Save changes</div>
                </button>
            </div>
        </div>
        <div class="nav">
            <app-profile-navbar></app-profile-navbar>
        </div>
    </div>
</div>