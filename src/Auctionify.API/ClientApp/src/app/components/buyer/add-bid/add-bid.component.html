<div class="bid-operation">
    <h1 class="bid-operation__title">Place a bid</h1>
    <p class="bid-operation__description">We will notify you in case you win</p>
    <form [formGroup]="bidForm" (ngSubmit)="onSubmit()" class="bid-form">
        <div class="main__form">
            <mat-form-field color="primary" appearance="outline">
                <mat-label>Bid price</mat-label>
                <input class="currency-input" type="number" formControlName="bid" matInput />
                <span matTextSuffix class="currency-label"> {{ currency }}</span>
                <mat-error *ngIf="errorMessage">
                    {{ errorMessage }}
                </mat-error>
                <mat-error *ngIf="bidForm.controls['bid'].hasError('required')">
                    Bid is required!
                </mat-error>
                <mat-error *ngIf="bidForm.controls['bid'].hasError('min')">
                    Your bid must be greater than starting price!
                </mat-error>
                <mat-error *ngIf="bidForm.controls['bid'].hasError('maxBidExceeded')">
                    Your bid must be less than trillion!
                </mat-error>
            </mat-form-field>
        </div>

        <div *ngIf="bids.length > 0" class="bids-section">
            <h3 class="bids-text">You already bid</h3>
            <ul class="bids-list">
                <li *ngFor="let bid of bids" class="bids-list__item">
                    <p class="bids-list__item-date">{{ bid.timeStamp }}</p>
                    <p class="bids-list__item-amount">
                        {{ bid.newPrice }} {{ bid.currency }}
                    </p>
                </li>
            </ul>
        </div>
        <div class="submit-button">
            <button type="submit" mat-flat-button [color]="'primary'" class="bid-button" [disabled]="!bidForm.valid">
                Submit
            </button>
        </div>
        <div *ngIf="bids.length === 0" class="no-bids">
            <p>No bids available.</p>
        </div>
    </form>
</div>